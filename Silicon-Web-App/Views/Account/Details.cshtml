<link rel="stylesheet" href="~/css/AccountDetails.css" asp-append-version="true" />
@model AccountDetailsViewModel
@{
    ViewData["Title"] = $"{Model.ProfileInfo.FirstName} {Model.ProfileInfo.LastName}";
}

<section class="sidebar">
    <div class="image-container">

        @if (!string.IsNullOrEmpty(ViewData["ErrorMessage"]?.ToString()))
        {
            <div class="error-message">
                @ViewData["ErrorMessage"]
            </div>
        }

        <a href=""><i class="fa-solid fa-rotate-reverse"></i></a>
        <img src="/images/@Model.ProfileInfo.ProfileImageUrl" alt="Profile pic">
    </div>
    <h3>@Model.ProfileInfo.FirstName @Model.ProfileInfo.LastName</h3>
    <p>@Model.ProfileInfo.Email</p>
    <a class="sidebar-btn active" asp-action="Details" asp-controller="Account"><i class="fa-regular fa-gear"></i>Account Details</a>
    <a class="sidebar-btn" asp-action="Security" asp-controller="Account"><i class="fa-regular fa-lock"></i>Security</a>
    <a class="sidebar-btn" asp-action="SavedCourses" asp-controller="Account"><i class="fa-regular fa-bookmark"></i>Saved Courses</a>
    <a class="sidebar-btn" asp-action="SignOut" asp-controller="Account"><i class="fa-regular fa-arrow-left-from-line"></i>Sign Out</a>
</section>
<section class="details">
    <h1>Account Details</h1>
    <div class="basic-info-form">
        <h3>Basic Info</h3>
        <form id="basicInfoForm" method="post" asp-controller="Account" asp-action="Details" novalidate>
            <div class="double-input-container">
                <div>
                    <label asp-for="BasicInfoForm">First name</label>
                    <input asp-for="BasicInfoForm" id="fname" placeholder="Enter your first name" value="">
                    <span asp-validation-for="BasicInfoForm.FirstName"></span>
                </div>
                <div>
                    <label asp-for="BasicInfoForm">Last name</label>
                    <input asp-for="BasicInfoForm" id="lname" placeholder="Enter your last name" value="">
                    <span asp-validation-for="BasicInfoForm.LastName"></span>
                </div>
            </div>
            <div class="double-input-container">
                <div>
                    <label asp-for="BasicInfoForm">Email address</label>
                    <input asp-for="BasicInfoForm" id="email" placeholder="Enter your email address" value="s">
                    <span asp-validation-for="BasicInfoForm.Email"></span>
                </div>
                <div>
                    <label asp-for="BasicInfoForm">Phone</label>
                    <input asp-for="BasicInfoForm" id="phone" placeholder="Enter your phone">
                    <span asp-validation-for="BasicInfoForm.PhoneNumber"></span>
                </div>
            </div>
            <label asp-for="BasicInfoForm">Bio <span>(optional)</span></label>
            <textarea asp-for="BasicInfoForm" id="bio" placeholder="Add a short bio..."></textarea>
            <span asp-validation-for="BasicInfoForm.Biography"></span>
            <div class="btn-container">
                <button class="btn light">Cancel</button>
                <button class="btn">Save changes</button>
            </div>
        </form>
    </div>
    <div class="address-form">
        <h3>Address</h3>
        <form id="addressInfoForm" method="post" asp-controller="Account" asp-action="Details" novalidate>
            <label asp-for="AddressInfoForm.AddressLine_1">Address line 1</label>
            <input asp-for="AddressInfoForm.AddressLine_1" id="address1" placeholder="Enter your address line">
            <span asp-validation-for="AddressInfoForm.AddressLine_1"></span>
            <label asp-for="AddressInfoForm.AddressLine_2">Address line 2 <span>(optional)</span></label>
            <input asp-for="AddressInfoForm.AddressLine_2" id="address2" placeholder="Enter your second address line">
            <span asp-validation-for="AddressInfoForm.AddressLine_2"></span>
            <div class="double-input-container">
                <div>
                    <label asp-for="AddressInfoForm.PostalCode">Postal code</label>
                    <input asp-for="AddressInfoForm.PostalCode" id="postal"placeholder="Enter your postal code">
                    <span asp-validation-for="AddressInfoForm.PostalCode"></span>
                </div>
                <div>
                    <label asp-for="AddressInfoForm.City">City</label>
                    <input asp-for="AddressInfoForm.City" id="city" placeholder="Enter your city">
                    <span asp-validation-for="AddressInfoForm.City"></span>
                </div>
            </div>
            <div class="btn-container">
                <button class="btn light">Cancel</button>
                <button class="btn">Save changes</button>
            </div>
        </form>
    </div>
</section>

@await Html.PartialAsync("_ValidationScriptPartial")

<script>
    function showMenu() {
        if (document.getElementById("menu").style.display != "block") {
            document.getElementById("menu").style.display = "block";
        }

        else {
            document.getElementById("menu").style.display = "none";
        }
    }
</script>